GAMS 35.2.0  r33388c4 Released Jun  2, 2021 WEX-WEI x86 64bit/MS Windows - 09/20/21 11:08:18 Page 1
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


   1  Sets
   2  all_t       all hours               /1*10/
   3  t(all_t)    hours                   /1*2/
   4  tec         generators              /base, peak, wind, solar/
   5  con(tec)    conventional generation /base, peak/
   6  all_n       all buses               /west, east, south/
   7  n(all_n)    selected buses          /west, east, south/
   8  ;
   9   
  10  alias (n,m);
  11  alias (all_n,all_m);
  12   
  13  * parameters for supply and demand functions
  14  Parameter elasticity / -0.25 /;
  15  Parameter p_ref / 65 /;
  16  Parameter capacity_instr / 1 /;
  17  Parameter specific_network_costs /150/;
  18  *Source for network costs: EMMA (3400 EUR/MW/km discontiert mit i = 0.07 ueber 40 Jahre)
  19   
  20  Table B(all_n,all_m)        Susceptance of transmission lines
  21           west   east    south
  22  west        1    250      600
  23  east      250      1      400
  24  south     600    400        1
  25  ;
  26   
  27  Parameters
  28  * Input Parameters
  29  i_cost(*,*)                 cost data to be loaded from sheet "cost"
  30  i_load(all_t,all_n)         load data to be loaded from sheet "time series" in MWh
  31  i_avail(all_t,tec,all_n)    availability data
  32  * Model Parameters
  33  load(t,n)               hourly load (MWh)
  34  avail(t,tec,n)          availability of wind and solar generation (1)
  35  c_var(tec,n)            variable costs (EUR per MWh)
  36  c_fix(tec,n)            annualized fixed costs (EUR per MW p.a.)
  37  supply_slope
  38  cap_lim(tec,n)          capacity limit of generation in each node
  39  grid_cost
  40  INSTRUMENT(tec,n)
  41  ;
  42   
  43  *-----------------------------------
  44  * LOAD INPUT PARAMETERS FROM EXCEL
  45   
  46   
  47  * Load GDX file to GAMS
**** File: C:\Users\ansel\OneDrive\PhD\2 - Where to place new power generation\Three node models\in.gdx
**** Msg : No such file or directory
  48  $GDXIN "in.gdx"
****                $510
**** 510  Unable to open gdx file for $GDXIN
  49  $LOADdc i_cost, i_load, i_avail
****        $502
**** 502  GDXIN  file not open - ignore rest of line
  50   
  51   
  52  *-----------------------------------
  53  * MODEL PARAMETERS
  54  * Time series parameters (loaded)
  55  load(t,n)                = i_load(t,n) / 1000;
****                                  $141
**** 141  Symbol declared but no values have been assigned. Check for missing
****         data definition, assignment, data loading or implicit assignment
****         via a solve statement.
****         A wild shot: You may have spurious commas in the explanatory
****         text of a declaration. Check symbol reference list.
  56  avail(t,tec,n)           = i_avail(t,tec,n);
****                                   $141
**** 141  Symbol declared but no values have been assigned. Check for missing
****         data definition, assignment, data loading or implicit assignment
****         via a solve statement.
****         A wild shot: You may have spurious commas in the explanatory
****         text of a declaration. Check symbol reference list.
  57  avail(t,con,n)           = 1;
  58   
  59  * Variable cost parameters (loaded)
  60  c_var(tec, n)         = i_cost(tec,"cost_var");
****                               $141           $116
**** 116  Label is unknown
**** 141  Symbol declared but no values have been assigned. Check for missing
****         data definition, assignment, data loading or implicit assignment
****         via a solve statement.
****         A wild shot: You may have spurious commas in the explanatory
****         text of a declaration. Check symbol reference list.
  61   
  62  * Fixed cost parameters are loaded below in the loop
  63  c_fix(tec, n)         = round(i_cost(tec,"cost_fix") * 1000 * card(t) / 8760);
****                                                    $116
**** 116  Label is unknown
  64   
  65  cap_lim(tec,n)        = 100000;
  66   
  67  grid_cost = round(166000 * card(t) / 8760);
  68   
  69  supply_slope          = c_fix('wind','east')  * 0.2 / 50;
  70  INSTRUMENT(tec,n)     = 0;
  71  *INSTRUMENT(tec,'west')     = 10;
  72   
  73  display c_var, load, avail, c_fix;
  74   
  75  Parameters
  76  consumer_surplus
  77  generation_costs
  78  total_network_cost
  79  res_share
  80   
  81  o_WF
  82  o_CS
  83  o_GC
  84  o_NC
  85  o_RES_share
  86   
  87  o_cap(tec,n)
  88  price(t)
  89  load_deviation(t)
  90  ;
  91   
  92   
  93   
  94  Binary variables y1(t,tec,n),y2(t,tec,n),y3(tec,n),y4(tec,n),y5(t,n),y6(t);
  95   
  96  Parameter M1 / 1000000/;
  97  Parameter M2 / 1000000/;
  98  Parameter M3 / 1000000/;
  99  Parameter M4 / 1000000/;
 100  Parameter M5 / 1000000/;
 101  Parameter M6 / 1000000/;
 102   
 103  Variables
 104  GEN(t,tec,n)
 105  CAP(tec,n)
 106  WF;
 107  ;
 108   
 109  Positive variables
 110  mu_G_min(t,tec,n)
 111  mu_G_max(t,tec,n)
 112  mu_C_min(tec,n)
 113  mu_C_max(tec,n)
 114  ;
 115   
 116  alias(tec, ttec);
 117  alias(n, nn);
 118   
 119   
 120  Equations
 121  gen_min, gen_max,
 122  cap_min, cap_max,
 123  KKT_GEN, KKT_CAP,
 124  objective,
 125   
 126  complementarity1a,
 127  complementarity1b,
 128  complementarity2a,
 129  complementarity2b,
 130  complementarity3a,
 131  complementarity3b,
 132  complementarity4a,
 133  complementarity4b
 134  ;
 135   
 136  objective..                     WF =e= 1;
 137   
 138  gen_min(t,tec,n)..              0 =g= -GEN(t,tec,n);
 139  gen_max(t,tec,n)..              0 =g= GEN(t,tec,n) - CAP(tec,n) * avail(t,tec,n);
 140   
 141  cap_min(tec,n)..                0 =g= -CAP(tec,n);
 142  cap_max(tec,n)..                0 =g= CAP(tec,n) - cap_lim(tec,n);
 143   
 144  *KKT conditions
 145  KKT_GEN(t,tec,n)..              c_var(tec,n) - p_ref * (1-(1/elasticity)) - p_ref * sum((ttec, nn), GEN(t,ttec,nn)) / (elasticity * sum(nn, load(t,nn))) + mu_G_max(t,tec,n) - mu_G_min(t,tec,n) =e= 0;
 146  KKT_CAP(tec,n)..                c_fix(tec,n) + supply_slope * CAP(tec,n) + INSTRUMENT(tec,n) - sum(t,avail(t,tec,n) * mu_G_max(t,tec,n)) + mu_C_max(tec,n) - mu_C_min(tec,n) =e= 0;
 147   
 148  complementarity1a(t,tec,n)..    GEN(t,tec,n)        =L= y1(t,tec,n) * M1;
 149  complementarity1b(t,tec,n)..    mu_G_min(t,tec,n)   =L= (1-y1(t,tec,n)) * M1;
 150  complementarity2a(t,tec,n)..    CAP(tec,n) * avail(t,tec,n) - GEN(t,tec,n) =L= y2(t,tec,n) * M2;
 151  complementarity2b(t,tec,n)..    mu_G_max(t,tec,n)   =L= (1-y2(t,tec,n)) * M2;
 152  complementarity3a(tec,n)..      CAP(tec,n)          =L= y3(tec,n) * M3;
 153  complementarity3b(tec,n)..      mu_C_min(tec,n)     =L= (1-y3(tec,n)) * M3;
 154  complementarity4a(tec,n)..      cap_lim(tec,n) - CAP(tec,n) =L= y4(tec,n) * M4;
 155  complementarity4b(tec,n)..      mu_C_max(tec,n)     =L= (1-y4(tec,n)) * M4;
 156   
 157  Model LOCI /
 158   
 159  objective
 160   
 161  gen_min
 162  gen_max
 163  cap_min
 164  cap_max
 165   
 166  KKT_GEN
 167  KKT_CAP
 168   
 169  complementarity1a
 170  complementarity1b
 171  complementarity2a
 172  complementarity2b
 173  complementarity3a
 174  complementarity3b
 175  complementarity4a
 176  complementarity4b
 177  /;
 178   
 179  * Set starting values
 180  *LOAD_real.L(t,n) =load(t,n);
 181   
 182   
 183  Solve LOCI maximizing WF using MIP;
****                                    $257
**** 257  Solve statement not checked because of previous errors
 184   
 185  price(t) = p_ref * (1-(1/elasticity) + (sum((tec,n), GEN.L(t,tec,n)) / sum(n, elasticity * load(t,n))));
****                                                           $141
**** 141  Symbol declared but no values have been assigned. Check for missing
****         data definition, assignment, data loading or implicit assignment
****         via a solve statement.
****         A wild shot: You may have spurious commas in the explanatory
****         text of a declaration. Check symbol reference list.
 186  load_deviation(t) = sum((tec,n), GEN.L(t,tec,n)) / sum(n,load(t,n));
 187   
 188  Display GEN.L, CAP.L, price, load_deviation;
****                     $141
**** 141  Symbol declared but no values have been assigned. Check for missing
****         data definition, assignment, data loading or implicit assignment
****         via a solve statement.
****         A wild shot: You may have spurious commas in the explanatory
****         text of a declaration. Check symbol reference list.
 189  *,WF.L,  GRID.L, LAMBDA.L, LOAD_real.L, CAP_INSTR.L, UP.L, DOWN.L, RESERVE_CAP.L, FLOW.L;

**** 10 ERROR(S)   0 WARNING(S)


COMPILATION TIME     =        0.000 SECONDS      3 MB  35.2.0 r33388c4 WEX-WEI


USER: GAMS Community License for Anselm Eicke        G210709|0002AO-GEN
      Hertie School of Governance GmbH                           CL1515
      License for teaching and research at degree granting institutions


**** FILE SUMMARY

Input      C:\Users\ansel\OneDrive\PhD\2 - Where to place new power generation\Three node models\MPC with big M as QCP.gms
Output     C:\Users\ansel\OneDrive\PhD\2 - Where to place new power generation\Three node models\MPC with big M as QCP.lst

**** USER ERROR(S) ENCOUNTERED
